<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>WordPress web converted to flat file S3 – Part 2 – My Blog</title>
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//cdn.statically.io">


<link rel="icon" href="https://cdn.statically.io/favicons/g/square=1,s=64/My+Blog.png" sizes="64x64">
<link rel="icon" href="https://cdn.statically.io/favicons/g/square=1,s=128/My+Blog.png" sizes="128x128">
<link rel="apple-touch-icon-precomposed" href="https://cdn.statically.io/favicons/g/square=1,s=256/My+Blog.png">
<link rel="stylesheet" id="wp-block-library-css" href="https://cdn.statically.io/wp/c/5.4/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<link rel="stylesheet" id="amphibious-bootstrap-grid-css" href="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/css/bootstrap-grid.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-5-css" href="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/css/fontawesome-all.css" type="text/css" media="all">
<link rel="stylesheet" id="amphibious-fonts-css" href="https://fonts.googleapis.com/css?family=Poppins%3A400%2C400i%2C700%2C700i%7CRubik%3A400%2C400i%2C700%2C700i&subset=latin%2Clatin-ext" type="text/css" media="all">
<link rel="stylesheet" id="amphibious-style-css" href="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/style.css" type="text/css" media="all">
<style id="amphibious-style-inline-css" type="text/css">
.archive-title-control { clip: rect(1px, 1px, 1px, 1px); position: absolute; }
</style>
<script type="text/javascript" src="https://cdn.statically.io/wp/c/5.4/wp-includes/js/jquery/jquery.js"></script>
<script type="text/javascript" src="https://cdn.statically.io/wp/c/5.4/wp-includes/js/jquery/jquery-migrate.min.js"></script>









<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	
	</head>
<body class="post-template-default single single-post postid-15 single-format-standard has-site-branding has-wide-layout has-right-sidebar">
<div id="page" class="site-wrapper site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	
<header id="masthead" class="site-header">
	<div class="container">
		<div class="row">
			<div class="col">

				<div class="site-header-inside-wrapper">
					
<div class="site-branding-wrapper">
	<div class="site-logo-wrapper"></div>
	<div class="site-branding">
					<p class="site-title"><a href="https://baota.imfast.io/" title="My Blog" rel="home">My Blog</a></p>
		
				<p class="site-description">
			My WordPress Blog		</p>
			</div>
</div>

<nav id="site-navigation" class="main-navigation">
	<div class="main-navigation-inside">
		<div class="toggle-menu-wrapper">
			<a href="#header-menu-responsive" title="Menu" class="toggle-menu-control">
				<span class="toggle-menu-label">Menu</span>
			</a>
		</div>

		<div id="menu-1" class="site-header-menu-wrapper site-header-menu-responsive-wrapper"><ul class="site-header-menu site-header-menu-responsive">
<li><a href="https://baota.imfast.io/">首页</a></li><li class="page_item page-item-2"><a href="https://baota.imfast.io/sample-page/">Sample Page</a></li>
</ul></div>
	</div>
</nav>
				</div>

			</div>
		</div>
	</div>
</header>

	<div id="content" class="site-content">

	<div class="site-content-inside">
		<div class="container">
			<div class="row">

				<div id="primary" class="content-area col-16 col-sm-16 col-md-16 col-lg-11 col-xl-11 col-xxl-11">
					<main id="main" class="site-main">

						<div id="post-wrapper" class="post-wrapper post-wrapper-single post-wrapper-single-post">
												
							
<div class="post-wrapper-hentry">
	<article id="post-15" class="post-15 post type-post status-publish format-standard hentry category-uncategorized">
		<div class="post-content-wrapper post-content-wrapper-single post-content-wrapper-single-post">

			
			<div class="entry-data-wrapper">
				<div class="entry-header-wrapper">
					<header class="entry-header">
						<h1 class="entry-title">WordPress web converted to flat file S3 – Part 2</h1>					</header>

					<div class="entry-meta entry-meta-header-after">
						<span class="byline entry-meta-icon">by <span class="author vcard"><a class="entry-author-link url fn n" href="https://baota.imfast.io/author/admin/" rel="author"><span class="entry-author-name">admin</span></a></span></span><span class="posted-on entry-meta-icon"><span class="screen-reader-text">Posted on</span><a href="https://baota.imfast.io/2019/12/04/wordpress-web-converted-to-flat-file-s3-part-2/" rel="bookmark"><time class="entry-date published updated" datetime="2019-12-04T19:56:06+08:00">2019-12-04</time></a></span>					</div>
				</div>

				<div class="entry-content">
					<div>
<p>We now have the website uploaded and working using an S3 bucket link, lets now add the DNS to AWS</p>
<p>I registered the DNS name isitdevops.com using the AWS Route53 menus. This automatically creates the hosted zone for “isitdevops.com”</p>
<p>Using the AWS documentation create the Route53 DNS entry.</p>
<p><a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html">https://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html</a> </p>
<pre class="wp-block-verse">Register a domain at the AWS Route53 console.</pre>
<pre class="wp-block-verse">In the Route53 console:<br>Choose Hosted Zones. In the list of hosted zones, choose the name of the hosted zone that matches your domain name. <br><br>Choose <strong>Create Record Set<br></strong></pre>
<pre class="wp-block-verse">Specify the following values:<br><strong>Name</strong> Accept the default value, which is the name of your hosted zone and your domain.<br>For the root domain, you do not need to enter any additional information in the <strong>Name</strong> field.<br><strong>Type</strong>, Choose <strong>A – IPv4 address</strong>.                                                                                                                                                                                                                  <strong>Alias</strong>, Choose <strong>Yes</strong>.                                                                                                                                                                                                                  <strong>Alias Target</strong> In the <strong>S3 website endpoints</strong> section of the list, choose the same bucket name that appears in the <strong>Name</strong> field, for example <code><em><code class="">example</code></em>.com (s3-website-us-west-2)</code>.                                                                                                                                                                                                                                                       <strong>Routing Policy</strong> Accept the default value of <strong>Simple</strong>.<br><strong>Evaluate Target Health </strong>Accept the default value of <strong>No</strong>.<br>The screenshot below shows the alias record for the root domain,                                <code>isitdevops.com</code>: <br></pre>
<div class="wp-block-image">
<figure class="aligncenter size-large is-resized"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-1024x618.png" alt="" class="wp-image-534" width="503" height="304" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-1024x618.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-300x181.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3-768x464.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/S3-10.2-3.png 1168w" sizes="(max-width: 503px) 100vw, 503px"></figure>
</div>
<p>Choose <strong>Create</strong>.   </p>
<p>The website is now available as isitdevops.com    </p>
<h2>Create a subdomain</h2>
<p>i.e. create a website under the domain isitdevops.com, e.g. test.isitdevops.com</p>
<p>This website will actually be stored as a seperate S3 bucket.</p>
<p>First you will need to create an S3 bucket, e.g. “test.isitdevops.com”, set this up as a hosted website and upload the website files. Test the website works by using the Endpoint created when you setup the static website. All this is identical to the process we have follwed in part 1.</p>
<ul>
<li>Create the S3 bucket test.isitdevops.com</li>
<li>Ensure the bucket has public read access.</li>
<li>Upload an index.html to the bucket ensuring public read access.</li>
<li>Selecting Properties tab in the bucket set the bucket as a static web hosting bucket; note the Endpoint displayed in the popup.</li>
<li>Test the Endpoint to ensure the website is working</li>
</ul>
<p>In Route53 create a new hosted zone, “test.isitdevops.com”</p>
<div class="wp-block-image">
<figure class="aligncenter size-large"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1024x280.png" alt="" class="wp-image-529" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1024x280.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-300x82.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-768x210.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1536x421.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-2048x561.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW1-4-1200x329.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>
</div>
<p> In the test.isitdevops.com <strong>Hosted Zone</strong> page,  note the NS record set created </p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-scaled.png" alt="" class="wp-image-527" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-300x83.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1024x284.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-768x213.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1536x425.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-2048x567.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW2-2-1200x332.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure>
</div>
<p>In the test.isitdevops.com <strong>Hosted Zone page</strong>, select “Create Record Set” and create an alias record set for the S3 bucket.</p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-scaled.png" alt="" class="wp-image-528" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-300x112.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1024x383.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-768x287.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1536x574.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-2048x765.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW4-2-1200x448.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure>
</div>
<p>After selecting the <strong>isitdevops.com</strong> Hosted Zone on the <strong>Hosted Zones page</strong> select “Create Record Set” and enter the “test” name and the NS record values from above.</p>
<div class="wp-block-image">
<figure class="aligncenter size-full"><img src="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-scaled.png" alt="" class="wp-image-530" srcset="http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-scaled.png 2560w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-300x110.png 300w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1024x375.png 1024w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-768x281.png 768w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1536x563.png 1536w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-2048x750.png 2048w,http://devops.isitdevops.com/wp-content/uploads/2019/12/NW5-2-1200x440.png 1200w" sizes="(max-width: 2560px) 100vw, 2560px"></figure>
</div>
<p>Wait up to 15 minutes and the web page “test.isitdevops.com” should be available.</p>
</div>
									</div>

				<footer class="entry-meta entry-meta-footer">
									</footer>
			</div>

		</div>
	</article>
</div>

							
<div class="entry-author">
	<div class="author-avatar">
		<img alt="" src="https://secure.gravatar.com/avatar/f3afa0e319b82dfaa062d78b9f3e90d9?s=80&d=mm&r=g" srcset="https://secure.gravatar.com/avatar/f3afa0e319b82dfaa062d78b9f3e90d9?s=160&d=mm&r=g 2x" class="avatar avatar-80 photo" height="80" width="80">	</div>

	<div class="author-heading">
		<h2 class="author-title">
            Published by <span class="author-name">admin</span>        </h2>
	</div>

	<p class="author-bio">
				<a class="author-link" href="https://baota.imfast.io/author/admin/" rel="author">
			View all posts by admin		</a>
	</p>
</div>

							
	<nav class="navigation post-navigation" role="navigation" aria-label="文章">
		<h2 class="screen-reader-text">文章导航</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://baota.imfast.io/2019/12/04/wordpress-web-converted-to-flat-file-s3-part-1/" rel="prev"><span class="meta-nav">Prev</span> <span class="post-title">WordPress web converted to flat file S3 – Part 1</span></a></div><div class="nav-next"><a href="https://baota.imfast.io/2020/01/07/using-terraform-to-create-a-mariadb-web/" rel="next"><span class="meta-nav">Next</span> <span class="post-title">Using Terraform to create a Mariadb Web</span></a></div></div>
	</nav>
							
												</div>

					</main>
				</div>

				<div id="site-sidebar" class="sidebar-area col-16 col-sm-16 col-md-16 col-lg-5 col-xl-5 col-xxl-5">
	<div id="secondary" class="sidebar widget-area sidebar-widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="https://baota.imfast.io/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search …" value="" name="s" title="Search for:">
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">近期文章</h2>		<ul>
											<li>
					<a href="https://baota.imfast.io/2020/04/28/hello-world/">Hello world!</a>
									</li>
											<li>
					<a href="https://baota.imfast.io/2020/04/05/operating-your-own-mail-server-is-a-pain/">Operating your own mail server is a pain</a>
									</li>
											<li>
					<a href="https://baota.imfast.io/2020/01/07/a-wordpress-site-on-s3-as-flat-files/">A wordpress site on S3 as flat files</a>
									</li>
											<li>
					<a href="https://baota.imfast.io/2020/01/07/using-terraform-to-create-a-mariadb-web/">Using Terraform to create a Mariadb Web</a>
									</li>
											<li>
					<a href="https://baota.imfast.io/2019/12/04/wordpress-web-converted-to-flat-file-s3-part-2/" aria-current="page">WordPress web converted to flat file S3 – Part 2</a>
									</li>
					</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">近期评论</h2><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href="https://wordpress.org/" rel="external nofollow ugc" class="url">A WordPress Commenter</a></span>发表在《<a href="https://baota.imfast.io/2020/04/28/hello-world/#comment-1">Hello world!</a>》</li></ul></aside>	</div>
</div>

			</div>
		</div>
	</div>


	</div>

	<footer id="colophon" class="site-footer">
		
<div class="site-info">
	<div class="site-info-inside">

		<div class="container">

			<div class="row">
				<div class="col">
					<div class="credits-wrapper">
						<div class="credits credits-blog"></div><div class="credits credits-designer">Amphibious Theme by <a href="https://templatepocket.com" title="TemplatePocket">TemplatePocket</a> <span>⋅</span> Powered by <a href="https://wordpress.org" title="WordPress">WordPress</a></div>					</div>
				</div>
			</div>

		</div>

	</div>
</div>
	</footer>

</div>

<div class="overlay-effect"></div>

<script type="text/javascript" src="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/js/enquire.js"></script>
<script type="text/javascript" src="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/js/fitvids.js"></script>
<script type="text/javascript" src="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/js/hover-intent.js"></script>
<script type="text/javascript" src="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/js/superfish.js"></script>
<script type="text/javascript" src="https://cdn.statically.io/sites/help.heliohost.org/wp-content/themes/amphibious/js/custom.js"></script>
</body>
</html>
